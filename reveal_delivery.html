<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>振り返り（第1話）</title>
  <link rel="stylesheet" href="../../../assets/app.css" />
  <script src="../../../assets/logger.js"></script>
  <script src="../common/scenario_core.js"></script>


  <style>
    :root {
      --mut : rgba(15,23,42,.62);
      --good: rgba(22,163,74,1);
      --warn: rgba(245,158,11,1);
      --bad : rgba(220,38,38,1);
      --line: rgba(226, 232, 240, 1);
    }

    /* ▼▼▼ 全体のレイアウト調整 ▼▼▼ */
    body {
      background-color: #f4f6f8;
      margin: 0;
    }

    .container {
      max-width: 1100px; 
      margin: 40px auto; 
      padding: 0 20px 150px; /* 下側にしっかりスクロールできる余白 */
    }

    .card {
      background: #fff;
      border-radius: 24px;
      padding: 40px 60px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.12);
    }

    .headRow h1 {
      font-size: 1.8rem;
      margin: 0 0 20px 0;
      line-height: 1.4;
      color: #1e293b;
    }

    .hr {
      height: 1px;
      background-color: var(--line);
      margin: 30px 0;
    }

    /* ===== ボタンデザイン（次の問題へ を強調） ===== */
    .chips {
      display: flex;
      gap: 12px;
    }

    .btn {
      padding: 12px 32px; /* 横幅を広げて存在感をアップ */
      font-size: 1rem;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      line-height: 1.4;
      border: none;
    }

    /* 「次の問題へ」：なじみやすいロイヤルブルー */
.btn-primary {
  background-color: #3b82f6; /* 鮮やかすぎず、沈みすぎない青 */
  color: #ffffff;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.btn-primary:hover {
  background-color: #2563eb; /* ホバーで少し深みのある色に */
  transform: translateY(-4px);
  box-shadow: 0 10px 18px rgba(59, 130, 246, 0.35);
}

    .btn-primary:active {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(79, 70, 229, 0.2);
    }

    /* ===== コンテンツ用スタイル（以前の通り） ===== */
    .chips2 { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
    .chip2 {
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 8px 18px;
      font-weight: 800;
      background: rgba(2,6,23,.04);
      font-size: 0.95rem;
      color: #475569;
    }

    .gridCheck {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .checkCard {
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 24px;
      background: #fafafa;
    }

    .checkCard b { display: block; margin-bottom: 12px; font-size: 1.1rem; color: #1e293b;}
    .checkCard ul { margin: 0; padding-left: 1.4em; }
    .checkCard li { margin: 8px 0; font-size: 0.95rem; color: var(--mut); }

    .alert.bad {
      grid-column: 1 / -1; 
      border: 1px solid rgba(220,38,38,.2);
      background: rgba(220,38,38,.04);
      border-radius: 16px;
      padding: 24px;
    }

    @media (max-width: 640px) {
      .card { padding: 24px; }
      .headRow h1 { font-size: 1.4rem; }
      .container { padding-bottom: 80px; }
    }

    .btn-ghost{
  background:#eef2ff;
  color:#1e293b;
  border:1px solid #c7d2fe;
}
.btn-ghost:hover{
  background:#e0e7ff;
  transform: translateY(-2px);
}

  </style>

</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div class="btitle">振り返り</div>
          <div class="bmeta">解説</div>
        </div>
      </div>
      <div class="chips">
        <a id="nextBtn" class="btn btn-primary" href="#">次の問題へ</a>
        <!-- nextBtn の近くに追加 -->
        <a id="tryBtn" class="btn btn-ghost" href="#">疑似体験してみる</a>
      </div>
    </div>
    <div class="chips">
        
      </div>
  </div>

  <div class="container">
    <div class="card">
      <div class="headRow">
        <h1>SMSやメールで不在通知が届いても、安易にアクセスしないようにしよう！</h1>
      </div>

      <div class="hr"></div>

      <h3 style="margin-bottom: 20px;">見分け方・対処法</h3>
      
      <div class="gridCheck">
        <div class="checkCard">
          <b>➤ 心当たりがない荷物通知は要注意</b>
          <ul>
            <li><strong>発信元が不明なSMSのURLや電話番号はクリックしない</strong></li>
          </ul>
        </div>

        <div class="checkCard">
          <b>➤ もし入力してしまったら....</b>
          <ul>
            <li><strong>入力したID・パスワードをすぐに変更する</strong></li>
            <li><strong>警察や消費者ホットライン等に相談する</strong></li>
          </ul>
        </div>

        <div class="checkCard">
          <b>➤ 差出人名や宛先がない通知は要注意</b>
          <ul>
            <li><strong>正規では基本、送信者情報が記載されていることが多い</strong></li>
            <li><strong>送信者情報が書かれていても、正規のSMSとは限らないことも多いので注意が必要</strong></li>
          </ul>
        </div>

        <div class="alert bad">
          <b style="color: var(--bad);">⚠️ 重要</b>
          <p style="margin: 8px 0 0 0; font-size: 1rem; color: #475569; line-height: 1.6;">
            ヤマト運輸や佐川急便などは、SMSによる集配案内を行っていない。<br>
            <strong style="color: var(--bad);">＝SMSでURLが届いた時点で、強く警戒しよう！</strong>
          </p>
        </div>
      </div>
    </div>
  </div>
  
  <!--末尾にこれを足すとラクになるから-->
  <script>
(() => {
  const params = new URLSearchParams(location.search);

// ★ q が無い時は「今いるフォルダ名（○問）」から推測して補完する
let q = Number(params.get("q"));
if (!q) {
  const m = location.pathname.match(/\/([0-9０-９]+)問\//);
  if (m) {
    const hankaku = m[1].replace(/[０-９]/g, c => String.fromCharCode(c.charCodeAt(0) - 0xFEE0));
    q = Number(hankaku) || 1;

    // URLに ?q= を付け直して以後落ちないようにする
    const u = new URL(location.href);
    u.searchParams.set("q", String(q));
    history.replaceState(null, "", u.toString());
  } else {
    q = 1;
  }
}


  // 先に「疑似体験してみる」を必ず有効化
  const tryBtn = document.getElementById("tryBtn");
  if (tryBtn) {
    tryBtn.href = `./sms_inbox_delivery.html?q=${q}`;
  }

  // 次へ（最後の1問なら survey に送る）
  try {
    QuizFlow.ensureOrder(10, { adaptive: true });

    const nextBtn = document.getElementById("nextBtn");
    const nextQ = QuizFlow.getNextQ(q);

    if (nextBtn) {
      if (!nextQ) {
        nextBtn.href = `../common/survey_delivery.html`;
        nextBtn.textContent = "アンケートへ";
      } else {
        nextBtn.href = `../${folderName(nextQ)}/quiz_delivery.html?q=${nextQ}`;
        nextBtn.textContent = "次の問題へ";
      }
    }
  } catch (e) {
    console.warn("nextBtn設定でエラー:", e);
  }
})();
</script>


</body>
</html>