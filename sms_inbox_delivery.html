<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ã‚¹ãƒŸãƒƒã‚·ãƒ³ã‚°</title>

  <link rel="stylesheet" href="../../../assets/app.css" />
  <script src="../../../assets/logger.js"></script>
  <script src="../common/scenario_core.js"></script>
  <script src="../common/delivery_questions.js"></script>


  <style>
    /* =========================================
       åŸºæœ¬è¨­å®šï¼ˆãƒ•ã‚©ãƒ³ãƒˆãƒ»ãƒªã‚»ãƒƒãƒˆï¼‰
       ========================================= */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
      margin: 0;
      background-color: #f0f0f0; /* å¤–å´ã®èƒŒæ™¯ */
    }

    /* =========================================
       ã‚¹ãƒãƒ›å¤–æ ï¼ˆdeviceWrap, device, bezelï¼‰
       â€»æ—¢å­˜ã®å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç¶­æŒ
       ========================================= */
    .deviceWrap{
      display:flex;
      justify-content:center;
      margin-top: 40px;
    }
    .device{
      width:min(390px, 92vw);
      aspect-ratio: 11 / 19.5;
      border-radius: 42px;
      padding: 8px;
      background: linear-gradient(180deg, #2a2a2a, #313131);
      border: 1px solid rgba(0,0,0,.85);
      box-shadow:
        0 18px 50px rgba(0,0,0,.45),
        0 0 0 2px rgba(255,255,255,.06) inset;
      position: relative;
    }
    .bezel{
      height: 100%;
      border-radius: 34px;
      overflow:hidden;
      border: 1px solid rgba(148,163,184,.25);
      background: #ffffff; /* ã‚¢ãƒ—ãƒªèƒŒæ™¯ã¯ç™½ */
      position: relative;
    }
    .notch{
      position:absolute;
      top:5px; left:50%;
      transform: translateX(-50%);
      width: 150px; height: 28px;
      border-radius: 0 0 16px 16px;
      background: rgba(2,6,23,.85);
      z-index: 100;
      display:flex; align-items:center; justify-content:center; gap:10px;
      pointer-events:none;
    }
    .spk{ width:60px; height:6px; border-radius:999px; background: rgba(255,255,255,.16); }
    .cam{ width:10px; height:10px; border-radius:999px; background: rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.12); }

    /* =========================================
       ç”»é¢å†…ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå—ä¿¡ãƒˆãƒ¬ã‚¤ï¼‰
       ========================================= */
    .inboxScreen{
      height:100%;
      display:flex;
      flex-direction:column;
      background:#ffffff;
      color:#000;
      position: relative;
    }

    /* --- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ --- */
    .statusbarReal{
      height: 44px;
      padding: 10px 24px 6px; /* ãƒãƒƒãƒã‚’é¿ã‘ã‚‹ãŸã‚å·¦å³ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°åºƒã‚ */
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      font-size: 14px;
      font-weight: 600;
      color: #000;
      background:#fff;
      z-index: 50;
    }
    .sbRight{ display:flex; gap:6px; align-items:center; }
    .bat{
      width:24px; height:11px; border-radius:3px;
      border:1px solid #999;
      position:relative;
    }
    .bat::after{
      content:""; position:absolute; right:-4px; top:3px;
      width:2px; height:4px; border-radius:1px; background: #999;
    }
    .bat i{
      position:absolute; left:1px; top:1px; bottom:1px;
      width:90%; border-radius:2px; background: #000; display:block;
    }

    /* --- iOSé¢¨ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ --- */
    .iosHeader {
      padding: 0 20px 10px;
      background: #fff;
    }
    /* ã€Œç·¨é›†ã€ã¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã®è¡Œ */
    .headerTopRow {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 44px;
      margin-bottom: 4px;
    }
    .editBtn {
      font-size: 15px;
      color: #007AFF; /* iOS Blue */
      background: #f2f2f7;
      padding: 6px 14px;
      border-radius: 99px;
      font-weight: 500;
      cursor: pointer;
    }
    .menuBtn {
      width: 32px; height: 32px;
      border-radius: 50%;
      background: #f2f2f7;
      color: #000;
      display: grid;
      place-items: center;
      font-size: 16px;
      cursor: pointer;
    }

    /* ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€å¤§è¦‹å‡ºã— */
    .pageTitle {
      font-size: 32px;
      font-weight: 800;
      margin: 0;
      letter-spacing: -0.5px;
    }

    /* --- ãƒªã‚¹ãƒˆã‚¨ãƒªã‚¢ --- */
    .list{
      flex:1;
      overflow-y: auto;
      padding-bottom: 80px; /* ä¸‹éƒ¨ã®æ¤œç´¢ãƒãƒ¼ã®ãŸã‚ã«ä½™ç™½ã‚’ç¢ºä¿ */
      -webkit-overflow-scrolling: touch;
    }

    .row{
      display:flex;
      align-items: center;
      padding: 10px 0 10px 16px; /* å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚ã‚Šã€å³ã¯çŸ¢å°ã‚¨ãƒªã‚¢ */
      text-decoration:none;
      color: inherit;
      cursor:pointer;
      position: relative;
    }
    /* åŒºåˆ‡ã‚Šç·šï¼ˆã‚¢ãƒã‚¿ãƒ¼ã®ä¸‹ã«ã¯ç·šã‚’å¼•ã‹ãªã„iOSã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ */
    .row::after {
      content: "";
      position: absolute;
      bottom: 0;
      right: 0;
      left: 76px; /* ã‚¢ãƒã‚¿ãƒ¼ã®å¹…åˆ†ç©ºã‘ã‚‹ */
      height: 1px;
      background: #e5e5ea;
      transform: scaleY(0.5); /* Retinaå¯¾å¿œã®ç´°ã„ç·š */
    }
    .row:active{ background: #e5e5ea; }

    /* ã‚¢ãƒã‚¿ãƒ¼ï¼ˆç”»åƒã‚³ãƒ³ãƒ†ãƒŠï¼‰ */
    .avatar{
      width: 48px; height: 48px;
      border-radius: 50%;
      background: #e5e5ea; /* ç”»åƒèª­ã¿è¾¼ã¿å‰ã®èƒŒæ™¯è‰² */
      flex: 0 0 auto;
      margin-right: 12px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* ç”»åƒè‡ªä½“ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* æ ã«åˆã‚ã›ã¦ãƒˆãƒªãƒŸãƒ³ã‚° */
    }
    
    /* ä»¥å‰ã®SVGç”¨CSSã¯å‰Šé™¤ã—ã¾ã—ãŸ */

    .rowContent{
      flex: 1;
      min-width: 0;
      padding-right: 30px; /* å³çŸ¢å°ã®ã‚¹ãƒšãƒ¼ã‚¹ */
      position: relative;
    }

    .topLine{
      display:flex; justify-content:space-between; align-items: baseline;
      margin-bottom: 2px;
    }
    .senderName{
      font-size: 16px;
      font-weight: 600;
      color: #000;
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
    }
    .msgDate{
      font-size: 14px;
      color: #8e8e93;
      margin-left: 8px;
      flex: 0 0 auto;
    }
    
    .snippetLine {
      display: flex;
      align-items: flex-start;
    }
    .snippet{
      font-size: 14px;
      color: #8e8e93;
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      line-height: 1.3;
      flex: 1;
    }

    /* æœªèª­ãƒ‰ãƒƒãƒˆï¼ˆé’ï¼‰ */
    .unreadDot{
      width: 10px; height: 10px;
      background: #007AFF;
      border-radius: 50%;
      position: absolute;
      left: -12px; /* å·¦ç«¯ã«é…ç½® */
      top: 50%; transform: translateY(-50%);
    }

    /* å³ç«¯ã®çŸ¢å°ï¼ˆChevronï¼‰ */
    .chevron {
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: #c7c7cc;
      font-size: 18px;
      font-weight: 600;
      font-family: monospace; /* è¨˜å·ã®å½¢ã‚’æ•´ãˆã‚‹ãŸã‚ */
    }

    /* --- ãƒœãƒˆãƒ ã‚¨ãƒªã‚¢ï¼ˆæ¤œç´¢ãƒãƒ¼ + ä½œæˆãƒœã‚¿ãƒ³ï¼‰ --- */
    .bottomFloatBar {
      position: absolute;
      bottom: 20px;
      left: 0; right: 0;
      padding: 0 16px;
      display: flex;
      gap: 12px;
      align-items: center;
      background: transparent; /* èƒŒæ™¯ã¯é€éï¼ˆãƒªã‚¹ãƒˆã®ä¸Šã«æµ®ãï¼‰ */
      pointer-events: none; /* ã‚¨ãƒªã‚¢å…¨ä½“ã¯ã‚¯ãƒªãƒƒã‚¯é€é */
    }
    .searchPill {
      pointer-events: auto;
      flex: 1;
      height: 48px;
      background: rgba(245, 245, 245, 0.95); /* ã™ã‚Šã‚¬ãƒ©ã‚¹é¢¨ */
      backdrop-filter: blur(10px);
      border-radius: 12px;
      display: flex;
      align-items: center;
      padding: 0 14px;
      color: #8e8e93;
      font-size: 17px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .searchIcon { margin-right: 8px; }
    
    .composeBtn {
      pointer-events: auto;
      width: 48px; height: 48px;
      background: rgba(245, 245, 245, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      display: grid;
      place-items: center;
      color: #007AFF;
      font-size: 22px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      cursor: pointer;
    }

    /* ãƒ›ãƒ¼ãƒ ãƒãƒ¼ */
    .homeIndicator{
      position: absolute; bottom: 6px; left: 50%; transform: translateX(-50%);
      width: 130px; height: 5px;
      background: #000;
      border-radius: 10px;
      z-index: 100;
    }

  </style>

</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div class="btitle">ã‚¹ãƒŸãƒƒã‚·ãƒ³ã‚°</div>
          <div class="bmeta">å®Ÿéš›ã®æ“ä½œã§åˆ¤æ–­ã—ã‚ˆã†</div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="card" style="padding-bottom: 55px;">
      <div class="kv">
        <span class="badge warn">ç¾åœ¨ã®çŠ¶æ³</span>
        <span class="small"><h3>å®…é…ã‚»ãƒ³ã‚¿ãƒ¼ã‹ã‚‰é€šçŸ¥ãŒæ¥ã¦ã„ã¾ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‹ã„ã¦ã¿ã¾ã—ã‚‡ã†â†“</h3></span>
      </div>
      <div class="hr"></div>

      <div class="deviceWrap">
        <div class="device">
          <div class="notch"><span class="spk"></span><span class="cam"></span></div>

          <div class="bezel">
            <div class="inboxScreen">
              <div class="statusbarReal">
                <div id="timeText">18:07</div>
                <div class="sbRight">
                  <span>4G</span>
                  <span class="bat"><i></i></span>
                  <span style="font-size:12px">95</span>
                </div>
              </div>

              <div class="iosHeader">
                <div class="headerTopRow">
                  <div class="editBtn">ç·¨é›†</div>
                  <div class="menuBtn">â‰¡</div> </div>
                <h1 class="pageTitle">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h1>
              </div>

              <div class="list">
                
                <div class="row" data-thread="delivery" data-href="./sms_delivery.html?q=1">

                  <div style="position:relative;">
                    <div class="unreadDot" style="left: -8px;"></div>
                    <div class="avatar">
                      <img src="aicon.normal.png" alt="å®…é…ä¾¿ã‚¢ã‚¤ã‚³ãƒ³">
                    </div>
                  </div>
                  
                  <div class="rowContent">
                    <div class="topLine">
                      <div class="senderName">090-1234-5678</div>
                      <div class="msgDate">10:35 ></div>
                    </div>
                    <div class="snippetLine">
                       <div class="snippet">
                         ä¸åœ¨ã®ãŸã‚ãŠè·ç‰©ã‚’æŒã¡å¸°ã‚Šã¾ã—ãŸã€‚24æ™‚é–“ä»¥å†…ã«ç¢ºèªã—ã¦...
                       </div>
                    </div>
                  </div>
                </div>

                <div class="row" data-thread="dummy1">
                   <div class="avatar">
                      <img src="aicon.normal.png" alt="Amazoné¢¨ã‚¢ã‚¤ã‚³ãƒ³">
                   </div>
                   <div class="rowContent">
                     <div class="topLine">
                       <div class="senderName">0033445566</div>
                       <div class="msgDate">2026/01/15</div>
                     </div>
                     <div class="snippet">
                       Amazon ã‚³ãƒ¼ãƒ‰ï¼š111111ã€‚å¿ƒå½“ãŸã‚ŠãŒãªã„å ´åˆã¯ã“ã¡ã‚‰ã‹ã‚‰æ‹’å¦...
                     </div>
                   </div>
                   <div class="chevron">â€º</div>
                </div>

                <div class="row" data-thread="dummy2">
                   <div class="avatar">
                      <img src="aicon.normal.png" alt="èªè¨¼ã‚¢ã‚¤ã‚³ãƒ³">
                   </div>
                   <div class="rowContent">
                     <div class="topLine">
                       <div class="senderName">+44 7873 077</div>
                       <div class="msgDate">2026/01/03</div>
                     </div>
                     <div class="snippet">
                       112233 ã¯ BeReal. Your friends for real ã®ç¢ºèªã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
                     </div>
                   </div>
                   <div class="chevron">â€º</div>
                </div>

                 <div class="row" data-thread="dummy3">
                  <div class="avatar">
                      <img src="aicon.normal.png" alt="ã‚«ãƒ¼ãƒ‰ä¼šç¤¾ã‚¢ã‚¤ã‚³ãƒ³">
                  </div>
                  <div class="rowContent">
                    <div class="topLine">
                      <div class="senderName">4791340930</div>
                      <div class="msgDate">2025/12/29</div>
                    </div>
                    <div class="snippet">
                      ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ãŠæ”¯æ‰•ã„ãŒã¾ã ã§ã™ã€‚ã“ã¡ã‚‰ã‹ã‚‰ãŠé¡˜ã„ã—ã¾ã™...
                    </div>
                  </div>
                  <div class="chevron">â€º</div>
               </div>

                <div class="row" data-thread="friend">
                  <div class="avatar">
                      <img src="aicon.normal.png" alt="å‹é”ã‚¢ã‚¤ã‚³ãƒ³">
                  </div>
                  <div class="rowContent">
                    <div class="topLine">
                      <div class="senderName">å‹é”</div>
                      <div class="msgDate">2025/12/06</div>
                    </div>
                    <div class="snippet">ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸï¼</div>
                  </div>
                  <div class="chevron">â€º</div>
                </div>
              </div>

              <div class="bottomFloatBar">
                <div class="searchPill">
                  <span class="searchIcon">ğŸ”</span>
                  <span>æ¤œç´¢</span>
                </div>
                <div class="composeBtn">
                  ğŸ“
                </div>
              </div>

              <div class="homeIndicator"></div>
            </div>
          </div>
        </div>
      </div>

      <script>
  // ===== URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ =====
  const params = new URLSearchParams(location.search);
  const q = Number(params.get("q") || "1");

  // å®…é…ã®è¡Œï¼ˆ1è¡Œç›®ï¼‰ã‚’ q ã«åˆã‚ã›ã¦ãƒªãƒ³ã‚¯æ›´æ–°
  const deliveryRow = document.querySelector('.row[data-thread="delivery"]');
  if (deliveryRow) {
    deliveryRow.dataset.href = `./sms_delivery.html?q=${q}`;
  }

  // ===== ãƒ­ã‚°é–‹å§‹ï¼ˆå®‰å…¨ã«ï¼‰ =====
  try {
    const sid = (window.Delivery10 && window.Delivery10.SCENARIO_ID)
      ? window.Delivery10.SCENARIO_ID
      : "delivery10";

    const currentScenario = localStorage.getItem("sec_learn_scenario_id");
    if (currentScenario !== sid && window.SecLogger && SecLogger.startScenario) {
      SecLogger.startScenario(sid);
    }
    if (window.SecLogger && SecLogger.log) {
      SecLogger.log("page_view", "sms_inbox_delivery", { q, title: document.title });
    }
  } catch (e) {
    console.warn("logger error:", e);
  }

  const t0 = performance.now();

  // è¡Œé¸æŠæ™‚ã®å‡¦ç†
  document.querySelectorAll(".row").forEach(row => {
    row.addEventListener("click", () => {
      const href = row.dataset.href;
      const thread = row.dataset.thread || "unknown";

      // å®…é…ä»¥å¤–ã¯ãƒ­ã‚°ã ã‘
      if (thread !== "delivery") {
        try { SecLogger.log("click", "inbox_dummy", { thread }); } catch(e){}
        return;
      }

      // é·ç§»
      if (href) {
        try {
          SecLogger.log("decision", "open_thread", {
            thread,
            elapsed_ms: Math.round(performance.now() - t0)
          });
        } catch(e){}
        setTimeout(() => { location.href = href; }, 80);
      }
    });
  });

  // æ™‚è¨ˆæ›´æ–°
  function updateClock() {
    const d = new Date();
    const hh = String(d.getHours()).padStart(2,"0");
    const mm = String(d.getMinutes()).padStart(2,"0");
    const el = document.getElementById("timeText");
    if (el) el.textContent = `${hh}:${mm}`;
  }
  setInterval(updateClock, 1000);
  updateClock();
</script>


    </div>
  </div>
</body>
</html>